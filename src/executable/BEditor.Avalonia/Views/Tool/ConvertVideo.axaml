<views:FluentWindow
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:titlebar="using:BEditor.Views.CustomTitlebars"
    xmlns:views="using:BEditor.Views"
    xmlns:prop="using:BEditor.Properties"
    xmlns:vm="using:BEditor.ViewModels.Tool"
    xmlns:ui="using:FluentAvalonia.UI.Controls"
    mc:Ignorable="d"
    WindowStartupLocation="CenterScreen"
    Height="450" Width="800"
    x:Class="BEditor.Views.Tool.ConvertVideo"
    x:DataType="vm:ConvertVideoViewModel"
    Title="ConvertVideo">
    <Grid RowDefinitions="Auto,*">
        <DockPanel HorizontalAlignment="Stretch" Grid.RowSpan="2">
            <Border
                BorderBrush="{StaticResource ControlElevationBorderBrush}"
                BorderThickness="1"
                CornerRadius="{StaticResource OverlayCornerRadius}"
                Background="{StaticResource NavigationViewDefaultPaneBackground}"
                IsHitTestVisible="False"
                DockPanel.Dock="Left"
                Width="240" />
            <Border Background="{StaticResource NavigationViewContentBackground}" IsHitTestVisible="False" />
        </DockPanel>

        <titlebar:WindowsTitlebarButtons />

        <TabControl Classes="sidebar" Grid.Row="1">
            <TabControl.Styles>
                <Style Selector="StackPanel">
                    <Setter Property="Spacing" Value="16" />
                    <Setter Property="Orientation" Value="Horizontal" />
                </Style>

                <Style Selector="ui|PathIcon">
                    <Setter Property="Width" Value="16" />
                    <Setter Property="Height" Value="16" />
                </Style>
            </TabControl.Styles>
            <TabItem>
                <TabItem.Header>
                    <StackPanel>
                        <ui:PathIcon Data="{StaticResource Info20Regular}"/>
                        <TextBlock Text="{x:Static prop:Strings.Infomation}" />
                    </StackPanel>
                </TabItem.Header>

                <ScrollViewer>
                    <VirtualizingStackPanel>
                        <!--情報-->
                        <TextBlock Text="{x:Static prop:Strings.Infomation}" Classes="SettingsHeader"/>

                        <!--横幅-->
                        <TextBlock Text="{x:Static prop:Strings.Width}" Classes="SettingsItemHeader"/>

                        <ui:NumberBox
                            Minimum="1"
                            Value="{CompiledBinding Width.Value, Mode=TwoWay}"
                            Classes="SettingsNumericUpDown"/>

                        <Separator Height="16" />

                        <!--高さ-->
                        <TextBlock Text="{x:Static prop:Strings.Height}" Classes="SettingsItemHeader"/>

                        <ui:NumberBox
                            Minimum="1"
                            Value="{CompiledBinding Height.Value, Mode=TwoWay}"
                            Classes="SettingsNumericUpDown"/>

                        <Separator Height="16" />

                        <!--フレームレート-->
                        <TextBlock Text="{x:Static prop:Strings.Framerate}" Classes="SettingsItemHeader"/>

                        <ui:NumberBox
                            Minimum="1"
                            Value="{CompiledBinding FrameRate.Value, Mode=TwoWay}"
                            Classes="SettingsNumericUpDown"/>

                        <Separator Height="16" />

                        <!--サンプリングレート-->
                        <TextBlock Text="{x:Static prop:Strings.Samplingrate}" Classes="SettingsItemHeader"/>

                        <ui:NumberBox
                            Minimum="1"
                            Value="{CompiledBinding SampleRate.Value, Mode=TwoWay}"
                            Classes="SettingsNumericUpDown"/>

                    </VirtualizingStackPanel>
                </ScrollViewer>
            </TabItem>
            <TabItem>
                <TabItem.Header>
                    <StackPanel>
                        <ui:PathIcon Data="{StaticResource MoviesAndTv20Regular}"/>
                        <TextBlock Text="{x:Static prop:Strings.Video}" />
                    </StackPanel>
                </TabItem.Header>

                <ScrollViewer>
                    <VirtualizingStackPanel>

                        <TextBlock Text="{x:Static prop:Strings.Video}" Classes="SettingsHeader"/>

                        <!--ビットレート-->
                        <TextBlock Text="Bitrate" Classes="SettingsItemHeader"/>

                        <ui:NumberBox
                            Value="{CompiledBinding VideoBitrate.Value, Mode=TwoWay}"
                            Classes="SettingsNumericUpDown"/>

                        <Separator Height="16" />

                        <!--キーフレームレート-->
                        <TextBlock Text="KeyframeRate" Classes="SettingsItemHeader"/>

                        <ui:NumberBox
                            Value="{CompiledBinding KeyframeRate.Value, Mode=TwoWay}"
                            Classes="SettingsNumericUpDown"/>

                        <Separator Height="16" />

                        <TextBlock
                            Margin="16,0"
                            Text="{x:Static prop:Strings.EncoderIsNotSet}"
                            IsVisible="{CompiledBinding !OutputIsEnabled.Value}" />

                        <ContentPresenter x:Name="VideoEncoderSettings" />

                    </VirtualizingStackPanel>
                </ScrollViewer>
            </TabItem>
            <TabItem>
                <TabItem.Header>
                    <StackPanel>
                        <ui:PathIcon Data="{StaticResource Speaker220Regular}"/>
                        <TextBlock Text="{x:Static prop:Strings.Audio}" />
                    </StackPanel>
                </TabItem.Header>

                <ScrollViewer>
                    <VirtualizingStackPanel>

                        <TextBlock Text="{x:Static prop:Strings.Audio}" Classes="SettingsHeader"/>

                        <!--ビットレート-->
                        <TextBlock Text="Bitrate" Classes="SettingsItemHeader"/>

                        <ui:NumberBox
                            Value="{CompiledBinding AudioBitrate.Value, Mode=TwoWay}"
                            Classes="SettingsNumericUpDown"/>

                        <Separator Height="16" />

                        <TextBlock
                            Margin="16,0"
                            Text="{x:Static prop:Strings.EncoderIsNotSet}"
                            IsVisible="{CompiledBinding !OutputIsEnabled.Value}" />

                        <ContentPresenter x:Name="AudioEncoderSettings" />

                    </VirtualizingStackPanel>
                </ScrollViewer>
            </TabItem>
            <TabItem>
                <TabItem.Header>
                    <StackPanel>
                        <ui:PathIcon Data="{StaticResource BookDatabase24Regular}"/>
                        <TextBlock Text="{x:Static prop:Strings.Metadata}" />
                    </StackPanel>
                </TabItem.Header>

                <ScrollViewer>
                    <VirtualizingStackPanel>

                        <TextBlock Text="{x:Static prop:Strings.Metadata}" Classes="SettingsHeader"/>


                        <!--Title-->
                        <TextBlock Text="Title" Classes="SettingsItemHeader"/>

                        <TextBox
                            Text="{CompiledBinding Title.Value, Mode=TwoWay}"
                            Classes="SettingsTextBox" />

                        <Separator Height="16" />

                        <!--Author-->
                        <TextBlock Text="Author" Classes="SettingsItemHeader"/>

                        <TextBox
                            Text="{CompiledBinding Author.Value, Mode=TwoWay}"
                            Classes="SettingsTextBox" />

                        <Separator Height="16" />

                        <!--Album-->
                        <TextBlock Text="Album" Classes="SettingsItemHeader"/>

                        <TextBox
                            Text="{CompiledBinding Album.Value, Mode=TwoWay}"
                            Classes="SettingsTextBox" />

                        <Separator Height="16" />

                        <!--Year-->
                        <TextBlock Text="Year" Classes="SettingsItemHeader"/>

                        <TextBox
                            Text="{CompiledBinding Year.Value, Mode=TwoWay}"
                            Classes="SettingsTextBox" />

                        <Separator Height="16" />

                        <!--Genre-->
                        <TextBlock Text="Genre" Classes="SettingsItemHeader"/>

                        <TextBox
                            Text="{CompiledBinding Genre.Value, Mode=TwoWay}"
                            Classes="SettingsTextBox" />

                        <Separator Height="16" />

                        <!--Description-->
                        <TextBlock Text="Description" Classes="SettingsItemHeader"/>

                        <TextBox
                            Text="{CompiledBinding Description.Value, Mode=TwoWay}"
                            Classes="SettingsTextBox" />

                        <Separator Height="16" />

                        <!--Language-->
                        <TextBlock Text="Language" Classes="SettingsItemHeader"/>

                        <TextBox
                            Text="{CompiledBinding Language.Value, Mode=TwoWay}"
                            Classes="SettingsTextBox" />

                        <Separator Height="16" />

                        <!--Copyright-->
                        <TextBlock Text="Copyright" Classes="SettingsItemHeader"/>

                        <TextBox
                            Text="{CompiledBinding Copyright.Value, Mode=TwoWay}"
                            Classes="SettingsTextBox" />

                        <Separator Height="16" />

                        <!--Rating-->
                        <TextBlock Text="Rating" Classes="SettingsItemHeader"/>

                        <TextBox
                            Text="{CompiledBinding Rating.Value, Mode=TwoWay}"
                            Classes="SettingsTextBox" />

                        <Separator Height="16" />

                        <!--TrackNumber-->
                        <TextBlock Text="TrackNumber" Classes="SettingsItemHeader"/>

                        <TextBox
                            Text="{CompiledBinding TrackNumber.Value, Mode=TwoWay}"
                            Classes="SettingsTextBox" />

                    </VirtualizingStackPanel>
                </ScrollViewer>
            </TabItem>
            <TabItem>
                <TabItem.Header>
                    <StackPanel>
                        <ui:PathIcon Data="{StaticResource ArrowExportLtr20Regular}"/>
                        <TextBlock Text="{x:Static prop:Strings.Output}" />
                    </StackPanel>
                </TabItem.Header>

                <ScrollViewer>
                    <VirtualizingStackPanel>

                        <TextBlock Text="{x:Static prop:Strings.Output}" Classes="SettingsHeader"/>

                        <!--ファイル-->
                        <TextBlock Text="{x:Static prop:Strings.File}" Classes="SettingsItemHeader"/>

                        <VirtualizingStackPanel Orientation="Horizontal">
                            <TextBox
                                Text="{CompiledBinding File.Value, Mode=TwoWay}"
                                Classes="SettingsTextBox"
                                IsReadOnly="True" />

                            <Button Command="{CompiledBinding SaveFileDialog, Mode=OneTime}">
                                <ui:SymbolIcon Symbol="OpenFolder" FontSize="20" />
                            </Button>
                        </VirtualizingStackPanel>

                        <Separator Height="16" />

                        <!--開始フレーム-->
                        <TextBlock Text="{x:Static prop:Strings.Start}" Classes="SettingsItemHeader"/>

                        <VirtualizingStackPanel Orientation="Horizontal">
                            <ui:NumberBox
                                Value="{CompiledBinding StartFrame.Value, Mode=TwoWay}"
                                Minimum="0"
                                Maximum="{CompiledBinding TotalFrame.Value, Mode=OneWay}"
                                Classes="SettingsNumericUpDown"/>

                            <TextBlock VerticalAlignment="Center" Text="{CompiledBinding StartTime.Value, Mode=OneWay}" />
                        </VirtualizingStackPanel>

                        <Separator Height="16" />

                        <!--長さ-->
                        <TextBlock Text="{x:Static prop:Strings.Length}" Classes="SettingsItemHeader"/>

                        <VirtualizingStackPanel Orientation="Horizontal">
                            <ui:NumberBox
                                Value="{CompiledBinding LengthFrame.Value, Mode=TwoWay}"
                                Minimum="0"
                                Maximum="{CompiledBinding TotalFrame.Value, Mode=OneWay}"
                                Classes="SettingsNumericUpDown"/>

                            <TextBlock VerticalAlignment="Center" Text="{CompiledBinding LengthTime.Value, Mode=OneWay}" />
                        </VirtualizingStackPanel>

                        <Separator Height="16" />

                        <!--エンコーダー-->
                        <TextBlock Text="{x:Static prop:Strings.Encoder}" Classes="SettingsItemHeader"/>

                        <ComboBox
                            Items="{CompiledBinding Encoders, Mode=OneTime}"
                            SelectedItem="{CompiledBinding SelectedEncoder.Value, Mode=TwoWay}"
                            Classes="SettingsComboBox">
                            <ComboBox.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Name}" />
                                </DataTemplate>
                            </ComboBox.ItemTemplate>
                        </ComboBox>

                        <Separator Height="16" />

                        <!--出力-->
                        <Button
                            Classes="accent"
                            Content="{x:Static prop:Strings.Output}"
                            Command="{CompiledBinding Output, Mode=OneTime}"
                            IsEnabled="{CompiledBinding OutputIsEnabled.Value, Mode=OneWay}"
                            Margin="16" />
                    </VirtualizingStackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>
    </Grid>
</views:FluentWindow>
